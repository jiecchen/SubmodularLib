import sys
import matplotlib.pyplot as plt
import numpy as np
import StringIO 
import draw


nSets = 1000
ks =  [3, 6, 9, 12, 15, 18, 21]

labels = ['offline', 'C=1', 'C=3', 'C=5']

nMachines = 20
values = {}
values[labels[0]] = [91, 128, 153, 171, 187, 199, 210]
values[labels[1]] = [
    [81.0, 87.0, 87.0, 85.0, 76.0],
    [104.0, 107.0, 105.0, 109.0, 111.0],
    [123.0, 124.0, 136.0, 127.0, 119.0],
    [158.0, 137.0, 139.0, 139.0, 142.0],
    [136.0, 142.0, 147.0, 146.0, 149.0],
    [158.0, 157.0, 155.0, 167.0, 165.0],
    [174.0, 168.0, 158.0, 178.0, 168.0]
]
values[labels[2]] = [
    [89.0, 86.0, 79.0, 83.0, 91.0],
    [111.0, 107.0, 111.0, 96.0, 107.0],
    [111.0, 125.0, 124.0, 119.0, 126.0],
    [147.0, 141.0, 137.0, 141.0, 142.0],
    [141.0, 142.0, 135.0, 150.0, 157.0],
    [152.0, 158.0, 149.0, 129.0, 155.0],
    [145.0, 166.0, 160.0, 169.0, 157.0]
]
values[labels[3]] = [
    [74.0, 80.0, 80.0, 80.0, 78.0],
    [107.0, 112.0, 115.0, 110.0, 107.0],
    [127.0, 134.0, 119.0, 116.0, 122.0],
    [152.0, 140.0, 143.0, 137.0, 133.0],
    [162.0, 146.0, 155.0, 148.0, 158.0],
    [155.0, 150.0, 154.0, 147.0, 155.0],
    [161.0, 142.0, 157.0, 158.0, 163.0]
]





# draw the graph
styles = ['g-x', 'r-^', 'b-s', 'y-x']

#legend.get_frame().set_facecolor('#00FFCC')


ylabel = r'f(S) - value of function'
xlabel = r'k - cardinality constraint'
draw.draw_errorbar(ks, values, labels, styles, xlabel, ylabel)

