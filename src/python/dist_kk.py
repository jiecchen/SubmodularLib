import sys
import matplotlib.pyplot as plt
import numpy as np
import StringIO 
import draw


nSets = 1000
ks =  [50, 100, 150, 200, 250, 300, 350]

labels = ['offline', 'k\'= k', 'k\'=3k', 'k\'=5k']

nMachines = 50
values = {}
values[labels[0]] = [13492, 29444, 43638, 54873, 59855, 65192, 73800]
values[labels[1]] = [
    [12157.0, 11793.0, 12717.0, 12269.0, 12766.0],
    [23834.0, 23879.0, 23628.0, 23440.0, 22400.0],
    [32622.0, 31322.0, 30700.0, 29808.0, 32643.0],
    [42221.0, 39291.0, 35595.0, 39451.0, 39304.0],
    [44330.0, 48976.0, 46087.0, 41979.0, 44188.0],
    [51009.0, 52513.0, 50192.0, 51258.0, 51694.0],
    [54927.0, 55209.0, 52396.0, 51997.0, 49714.0]

]
values[labels[2]] = [
    [12949.0, 12784.0, 12516.0, 12969.0, 12672.0],
    [22423.0, 21697.0, 23186.0, 22771.0, 23136.0],
    [31722.0, 33294.0, 31759.0, 31679.0, 30102.0],
    [38573.0, 35615.0, 39457.0, 39573.0, 39981.0],
    [47617.0, 43657.0, 44409.0, 45985.0, 44799.0],
    [50555.0, 48164.0, 51234.0, 48179.0, 49227.0],
    [56211.0, 54317.0, 57817.0, 55371.0, 53776.0]
]
values[labels[3]] = [
    [12541.0, 12252.0, 12900.0, 12393.0, 12450.0],
    [23498.0, 23385.0, 21819.0, 23713.0, 22688.0],
    [31413.0, 32649.0, 31581.0, 32304.0, 30625.0],
    [35723.0, 36824.0, 36235.0, 38445.0, 36141.0],
    [43299.0, 44515.0, 46247.0, 43664.0, 43961.0],
    [51547.0, 46949.0, 48358.0, 49306.0, 50617.0],
    [53129.0, 52297.0, 54272.0, 53216.0, 53505.0]
]





# draw the graph
styles = ['g-x', 'r-^', 'b-s', 'y-x']

#legend.get_frame().set_facecolor('#00FFCC')


ylabel = r'f(S) - value of function'
xlabel = r'k - cardinality constraint'
draw.draw_errorbar(ks, values, labels, styles, xlabel, ylabel)

